{% extends 'core/base.html' %}

{% block title %}{% if object %}Editar{% else %}Novo{% endif %} Relatório - SantuarioVital{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- Header com Gradient -->
    <div class="bg-gradient-to-r from-amber-600 to-orange-600 rounded-lg shadow-lg p-6 mb-6">
        <div class="flex items-center gap-3">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
            </svg>
            <div>
                <h1 class="text-3xl font-bold text-white">{% if object %}Editar{% else %}Novo{% endif %} Relatório de Expedição</h1>
                <p class="text-amber-100">Documente descobertas e observações de campo</p>
            </div>
        </div>
    </div>

    <!-- Formulário -->
    <div class="bg-white rounded-lg shadow-md overflow-hidden">
        <form method="post" class="p-6">
            {% csrf_token %}
            
            <!-- Seção: Informações Básicas -->
            <div class="mb-8">
                <div class="flex items-center gap-2 mb-4 pb-2 border-b-2 border-amber-500">
                    <svg class="w-6 h-6 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <h2 class="text-xl font-bold text-gray-800">Informações Básicas</h2>
                </div>

                <div class="space-y-4">
                    <!-- Título -->
                    <div>
                        <label for="id_titulo" class="block text-sm font-medium text-gray-700 mb-2">
                            <svg class="w-4 h-4 inline-block mr-1 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                            Título da Expedição *
                        </label>
                        <input 
                            type="text" 
                            name="titulo" 
                            id="id_titulo"
                            value="{{ form.titulo.value|default:'' }}" 
                            required
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"
                            placeholder="Ex: Exploração da Floresta Sombria">
                        {% if form.titulo.errors %}
                            <p class="mt-1 text-sm text-red-600">{{ form.titulo.errors.0 }}</p>
                        {% endif %}
                    </div>

                    <!-- Localização -->
                    <div>
                        <label for="id_localizacao" class="block text-sm font-medium text-gray-700 mb-2">
                            <svg class="w-4 h-4 inline-block mr-1 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                            Localização *
                        </label>
                        <input 
                            type="text" 
                            name="localizacao" 
                            id="id_localizacao"
                            value="{{ form.localizacao.value|default:'' }}" 
                            required
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"
                            placeholder="Ex: Região Norte, próximo ao Vale das Sombras">
                        {% if form.localizacao.errors %}
                            <p class="mt-1 text-sm text-red-600">{{ form.localizacao.errors.0 }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Seção: Descobertas e Observações -->
            <div class="mb-8">
                <div class="flex items-center gap-2 mb-4 pb-2 border-b-2 border-orange-500">
                    <svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    <h2 class="text-xl font-bold text-gray-800">Descobertas e Observações</h2>
                </div>

                <div class="space-y-4">
                    <!-- Descobertas -->
                    <div>
                        <label for="id_descobertas" class="block text-sm font-medium text-gray-700 mb-2">
                            <svg class="w-4 h-4 inline-block mr-1 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                            Descobertas *
                        </label>
                        <textarea 
                            name="descobertas" 
                            id="id_descobertas"
                            rows="6"
                            required
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                            placeholder="Descreva as principais descobertas da expedição...">{{ form.descobertas.value|default:'' }}</textarea>
                        <p class="mt-1 text-sm text-gray-500">Relate as descobertas mais importantes realizadas durante a expedição</p>
                        {% if form.descobertas.errors %}
                            <p class="mt-1 text-sm text-red-600">{{ form.descobertas.errors.0 }}</p>
                        {% endif %}
                    </div>

                    <!-- Observações -->
                    <div>
                        <label for="id_observacoes" class="block text-sm font-medium text-gray-700 mb-2">
                            <svg class="w-4 h-4 inline-block mr-1 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                            </svg>
                            Observações Adicionais
                        </label>
                        <textarea 
                            name="observacoes" 
                            id="id_observacoes"
                            rows="4"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                            placeholder="Observações complementares, detalhes relevantes...">{{ form.observacoes.value|default:'' }}</textarea>
                        <p class="mt-1 text-sm text-gray-500">Informações adicionais que possam ser relevantes</p>
                        {% if form.observacoes.errors %}
                            <p class="mt-1 text-sm text-red-600">{{ form.observacoes.errors.0 }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Botões de Ação -->
            <div class="flex gap-3 pt-6 border-t border-gray-200">
                <button 
                    type="submit" 
                    class="flex-1 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-lg hover:from-amber-600 hover:to-orange-600 transition-all duration-200 font-medium shadow-md hover:shadow-lg flex items-center justify-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    <span>{% if object %}Atualizar{% else %}Criar{% endif %} Relatório</span>
                </button>
                <a 
                    href="{% url 'relatorio-list' %}" 
                    class="px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium flex items-center justify-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                    <span>Cancelar</span>
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}